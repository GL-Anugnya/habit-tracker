<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daily Habit Checker</title>
  <style>
    /* CSS variables for theming - Light mode (default) */
    :root {
      --bg-gradient: linear-gradient(135deg, #e8d5f2 0%, #d4e8f7 50%, #fce4ec 100%);
      --card-bg: #fefefe;
      --card-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
      --text-primary: #2d3748;
      --text-secondary: #5a6c7d;
      --progress-color: #7c3aed;
      --progress-bar-track: #e2e8f0;
      --progress-bar-fill: linear-gradient(90deg, #a78bfa, #7c3aed);
      --habit-bg: #f8fafc;
      --habit-bg-hover: #f1f5f9;
      --habit-done-bg: #dcfce7;
      --habit-done-border: #22c55e;
      --toggle-off: #cbd5e1;
      --toggle-on: #22c55e;
      --toggle-knob: #ffffff;
      --btn-reset: #64748b;
      --btn-reset-hover: #475569;
      --quote-bg: rgba(124, 58, 237, 0.08);
      --quote-border: #7c3aed;
      --theme-btn-bg: rgba(124, 58, 237, 0.15);
      --theme-btn-hover: rgba(124, 58, 237, 0.25);
    }

    /* Dark mode */
    body.dark-mode {
      --bg-gradient: linear-gradient(135deg, #1e1b4b 0%, #0f172a 50%, #1e293b 100%);
      --card-bg: #1e293b;
      --card-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
      --text-primary: #f1f5f9;
      --text-secondary: #94a3b8;
      --progress-color: #a78bfa;
      --progress-bar-track: #334155;
      --progress-bar-fill: linear-gradient(90deg, #a78bfa, #c084fc);
      --habit-bg: #334155;
      --habit-bg-hover: #475569;
      --habit-done-bg: #064e3b;
      --habit-done-border: #10b981;
      --toggle-off: #475569;
      --toggle-on: #10b981;
      --toggle-knob: #1e293b;
      --btn-reset: #475569;
      --btn-reset-hover: #64748b;
      --quote-bg: rgba(167, 139, 250, 0.15);
      --quote-border: #a78bfa;
      --theme-btn-bg: rgba(167, 139, 250, 0.2);
      --theme-btn-hover: rgba(167, 139, 250, 0.35);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Times New Roman', Times, serif;
      background: var(--bg-gradient);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      transition: background 0.4s ease;
    }

    .container {
      background: var(--card-bg);
      border-radius: 20px;
      box-shadow: var(--card-shadow);
      padding: 36px;
      max-width: 420px;
      width: 100%;
      position: relative;
      transition: background 0.4s ease, box-shadow 0.4s ease;
    }

    /* Theme toggle button - top right */
    .theme-toggle {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 44px;
      height: 44px;
      border-radius: 12px;
      border: none;
      background: var(--theme-btn-bg);
      color: var(--progress-color);
      cursor: pointer;
      font-size: 1.3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .theme-toggle:hover {
      background: var(--theme-btn-hover);
      transform: scale(1.05);
    }

    h1 {
      text-align: center;
      color: var(--text-primary);
      margin-bottom: 10px;
      font-size: 1.8rem;
      padding-right: 50px;
      transition: color 0.4s ease;
    }

    .progress {
      text-align: center;
      font-size: 1.2rem;
      color: var(--progress-color);
      font-weight: 600;
      margin-bottom: 12px;
      transition: color 0.4s ease;
    }

    .progress-bar {
      width: 100%;
      height: 14px;
      background: var(--progress-bar-track);
      border-radius: 7px;
      overflow: hidden;
      margin-bottom: 28px;
      transition: background 0.4s ease;
    }

    .progress-bar-fill {
      height: 100%;
      background: var(--progress-bar-fill);
      border-radius: 7px;
      transition: width 0.3s ease;
    }

    .habit-list {
      list-style: none;
    }

    /* Habit row with toggle switch */
    .habit-item {
      display: flex;
      align-items: center;
      padding: 14px 18px;
      margin-bottom: 12px;
      background: var(--habit-bg);
      border-radius: 14px;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    .habit-item:hover {
      background: var(--habit-bg-hover);
    }

    .habit-item.done {
      background: var(--habit-done-bg);
      border-color: var(--habit-done-border);
    }

    .habit-emoji {
      font-size: 1.6rem;
      margin-right: 14px;
    }

    .habit-name {
      flex: 1;
      font-size: 1.1rem;
      color: var(--text-primary);
      font-weight: 500;
      transition: color 0.4s ease;
    }

    /* Toggle switch styling */
    .toggle-switch {
      position: relative;
      width: 52px;
      height: 28px;
      background: var(--toggle-off);
      border-radius: 14px;
      cursor: pointer;
      transition: background 0.3s ease;
      flex-shrink: 0;
    }

    .toggle-switch::after {
      content: '';
      position: absolute;
      width: 22px;
      height: 22px;
      background: var(--toggle-knob);
      border-radius: 50%;
      top: 3px;
      left: 3px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease;
    }

    .habit-item.done .toggle-switch {
      background: var(--toggle-on);
    }

    .habit-item.done .toggle-switch::after {
      transform: translateX(24px);
    }

    .reset-btn {
      display: block;
      width: 100%;
      margin-top: 24px;
      padding: 14px 20px;
      font-size: 1rem;
      font-weight: 600;
      color: white;
      background: var(--btn-reset);
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .reset-btn:hover {
      background: var(--btn-reset-hover);
    }

    .motivational-quote {
      margin-top: 24px;
      padding: 20px;
      background: var(--quote-bg);
      border-left: 4px solid var(--quote-border);
      border-radius: 10px;
      font-style: italic;
      color: var(--text-secondary);
      text-align: center;
      display: none;
      transition: all 0.4s ease;
    }

    .motivational-quote.visible {
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <button class="theme-toggle" id="themeToggle" title="Toggle dark/light mode" aria-label="Toggle theme">ðŸŒ™</button>

    <h1>Daily Habit Checker</h1>
    <p class="progress" id="progress">0 / 5</p>
    <div class="progress-bar">
      <div class="progress-bar-fill" id="progressBarFill"></div>
    </div>

    <ul class="habit-list" id="habitList">
      <!-- Habits will be added by JavaScript -->
    </ul>

    <p class="motivational-quote" id="motivationalQuote"></p>

    <button class="reset-btn" id="resetBtn">Reset Day</button>
  </div>

  <script>
    // Define our 5 habits with emoji and name
    const habits = [
      { emoji: 'ðŸ’§', name: 'Water' },
      { emoji: 'ðŸƒ', name: 'Exercise' },
      { emoji: 'ðŸ“š', name: 'Reading' },
      { emoji: 'ðŸ˜´', name: 'Sleep' },
      { emoji: 'ðŸ’»', name: 'Coding' }
    ];

    let habitStatus = [false, false, false, false, false];

    const habitListEl = document.getElementById('habitList');
    const progressEl = document.getElementById('progress');
    const progressBarFillEl = document.getElementById('progressBarFill');
    const motivationalQuoteEl = document.getElementById('motivationalQuote');
    const themeToggleEl = document.getElementById('themeToggle');

    const motivationalQuotes = [
      '"The secret of getting ahead is getting started." â€” Mark Twain',
      '"Small daily improvements are the key to staggering long-term results." â€” Robin Sharma',
      '"We are what we repeatedly do. Excellence, then, is not an act, but a habit." â€” Aristotle',
      '"Success is the sum of small efforts repeated day in and day out." â€” Robert Collier',
      '"Every day is a new opportunity to become a better version of yourself."'
    ];

    // Dark/Light mode - load saved preference
    function initTheme() {
      const savedTheme = localStorage.getItem('habitTrackerTheme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const isDark = savedTheme === 'dark' || (!savedTheme && prefersDark);
      document.body.classList.toggle('dark-mode', isDark);
      themeToggleEl.textContent = isDark ? 'â˜€ï¸' : 'ðŸŒ™';
    }

    function toggleTheme() {
      const isDark = document.body.classList.toggle('dark-mode');
      localStorage.setItem('habitTrackerTheme', isDark ? 'dark' : 'light');
      themeToggleEl.textContent = isDark ? 'â˜€ï¸' : 'ðŸŒ™';
    }

    themeToggleEl.addEventListener('click', toggleTheme);
    initTheme();

    function updateProgress() {
      const completed = habitStatus.filter(Boolean).length;
      const total = habits.length;
      progressEl.textContent = `${completed} / ${total}`;
      progressBarFillEl.style.width = `${(completed / total) * 100}%`;

      if (completed === total && total > 0) {
        const randomQuote = motivationalQuotes[Math.floor(Math.random() * motivationalQuotes.length)];
        motivationalQuoteEl.textContent = randomQuote;
        motivationalQuoteEl.classList.add('visible');
      } else {
        motivationalQuoteEl.classList.remove('visible');
      }
    }

    function renderHabits() {
      habitListEl.innerHTML = '';

      habits.forEach((habit, index) => {
        const li = document.createElement('li');
        li.className = 'habit-item' + (habitStatus[index] ? ' done' : '');
        li.setAttribute('data-index', index);

        li.innerHTML = `
          <span class="habit-emoji">${habit.emoji}</span>
          <span class="habit-name">${habit.name}</span>
          <div class="toggle-switch"></div>
        `;

        const toggle = li.querySelector('.toggle-switch');

        // Toggle on switch click
        toggle.addEventListener('click', (e) => {
          e.stopPropagation();
          habitStatus[index] = !habitStatus[index];
          li.classList.toggle('done', habitStatus[index]);
          updateProgress();
        });

        // Also toggle when clicking the row
        li.addEventListener('click', (e) => {
          if (e.target === toggle) return;
          habitStatus[index] = !habitStatus[index];
          li.classList.toggle('done', habitStatus[index]);
          updateProgress();
        });

        habitListEl.appendChild(li);
      });

      updateProgress();
    }

    function resetDay() {
      habitStatus = [false, false, false, false, false];
      renderHabits();
    }

    document.getElementById('resetBtn').addEventListener('click', resetDay);

    renderHabits();
  </script>
</body>
</html>
